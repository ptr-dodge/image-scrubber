<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Scrubber</title>
    <link rel="manifest" href="scripts/manifest.json">
    <link rel="apple-touch-icon" href="scrubber_logo_ios_homescreen.png">
    <link rel="stylesheet" type="text/css" href="styles/index.css">
</head>

<body>
    <div id="drop-zone">
        <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10">
            <path d="M5,3 l0,4 M3,5 l4,0" fill="none" stroke="#fff" stroke-width="0.5"></path>
        </svg>
    </div>
    <div id="topBar">
        <div class="topBarDiv">
            <label for="file-input" class="customFileOpen controlButton">Open&nbsp;Image&nbsp;ðŸ“‚</label>
            <input id="file-input" type="file" value="">
        </div>
        <a id="saveButton" onclick="saveImage(this)" class="topBarDiv controlButton">Save&nbsp;Image&nbsp;ðŸ’¾</a>
        <div id="rotate" class="topBarDiv controlButton">Rotate&nbsp;Image&nbsp;â¤¾</div>
        <div id="paintBlur" class="topBarDiv customFileOpen">
            <form id="paintForm">
                <input type="radio" id="Paint" name="paintingAction" value="paint">
                <label for="Paint">Paint</label>&nbsp;<button data-jscolor="{valueElement:null,value:'000000'}"
                    id="paintColor" style="width:20px; height:20px;"></button><br>
                <input type="radio" id="Blur" name="paintingAction" value="blur" checked>
                <label for="Blur">Blur&nbsp;</label><br>
                <input type="radio" id="Undo" name="paintingAction" value="undo">
                <label for="Undo">Undo&nbsp;</label>
            </form>
        </div>
        <div id="brushType" class="topBarDiv">
            <form id="brushForm">
                <input type="radio" id="Round" name="useBrush" value="round" checked>
                <label for="Round">Brush&nbsp;</label><br>
                <input type="radio" id="Area" name="useBrush" value="area">
                <label for="Area">Rectangle</label><br>
                <input type="radio" id="Tap" name="useBrush" value="tap">
                <label for="Tap">Tap&nbsp;</label><br>
            </form>
        </div>
        <div id="brushSizeDiv" class="topBarDiv">
            <label for="brushSizeSlider">Brush&nbsp;Size</label><br>
            <input type="range" min="10" max="100" value="55" class="slider" id="brushSizeSlider"><br>
            <label for="blurAmountSlider">Blur&nbsp;Radius</label><br>
            <input type="range" min="40" max="150" value="75" class="slider" id="blurAmountSlider">
        </div>
    </div>
    <button id="about">About</button>
    <div id="imageScrubberInfo">
        <h1>Image Scrubber</h1>
        <h2>About</h2>
        <p>
            This is a tool for anonymizing photographs taken at protests. It will remove identifying metadata (Exif
            data) from photographs, and also allow you to selectively blur parts of the image to cover faces and other
            identifiable information.
        </p>
        <h2>Usage</h2>
        <ul id="about-list">
            <li>Click or drag onto the open button to open a photograph.</li>
            <li>The program will display the data it is removing.</li>
            <li>Click okay, and you can then save the scrubbed image by hitting save or right clicking on it and saving
                it.</li>
            <li>Maximum size is 2500x2500 pixels - larger images will be scaled down.</li>
            <li>You can select between painting over the image or blurring it out.</li>
            <li>Dragging on the image will paint on or blur it.</li>
            <li>You can change your brush size via the slider.</li>
            <li>The blur function runs on top of shuffled, noisy, upscaled pixels and is fairly secure but sensitive
                information should be covered with the paint tool.</li>
        </ul>
        <h2>Offline Usage</h2>
        <p>
            This tool works offline: on a phone you can load the page or add it to the homescreen, then turn on airplane
            mode (or turn off wifi/data) before opening any pictures. On a computer, download the zipped code, open the
            folder, and open index.html in a browser with the internet turned off.
        </p>
        <h2>Data Security</h2>
        <p>
            All processing happens directly in the browser â€” no information is stored or sent anywhere.
        </p>
    </div>
    <div id="exifInformationHolder"><h2>Exif Data</h2><hr><br><pre id="exifData"></pre><button id="clear-data">Remove Exif Data</button></div>
    <canvas id="imageCanvas"></canvas>
    <canvas id="tempCanvas"></canvas>
    <canvas id="holderCanvas"></canvas>
    <canvas id="rotationCanvas"></canvas>
    <canvas id="blurredCanvas"></canvas>
    <canvas id="offscreenCanvas"></canvas>
    <script type="text/javascript" src="scripts/jscolor.js"></script>
    <script type="text/javascript" src="scripts/exif.js"></script>
    <script type="text/javascript" src="scripts/openImage.js"></script>
    <script type="text/javascript" src="scripts/stackblur.js"></script>
    <script type="text/javascript" src="scripts/js.js"></script>
</body>

</html>